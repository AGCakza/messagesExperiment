{"version":3,"sources":["logo.svg","Components/ChatRoom/Styles.js","Components/ChatRoom/ChatRoom.js","Components/ChatRoom/ChatRoomContainer.js","Components/Styles.js","Components/Page.js","App.js","index.js"],"names":["Message","styled","div","TextArea","MyMessage","Img","img","Name","p","ChatRoom","props","uid","console","log","Myuid","msg","src","photo","name","message","key","ChatRoomContainer","query","db","collection","orderBy","limit","useCollectionData","idField","chatmsgs","map","auth","currentUser","ref","dummy","Container","styles","Page","user","className","onClick","signInWithGoogle","value","onChange","e","setValue","target","AddMessage","signOut","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","provider","GoogleAuthProvider","signInWithPopup","preventDefault","App","useState","formValue","setFormValue","useAuthState","useRef","a","photoURL","displayName","add","createdAt","FieldValue","serverTimestamp","current","scrollIntoView","behavior","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9ef6c0c5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import styled from 'styled-components'\r\n\r\nconst Message = styled.div`\r\ndisplay: flex;\r\nmargin: 15px 0;\r\n`\r\nconst TextArea = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\nmargin: 0 10px;\r\n`\r\nconst MyMessage = styled(Message)`\r\nflex-direction: row-reverse;\r\np{\r\n    text-align: right;\r\n}\r\n`\r\nconst Img = styled.img`\r\nwidth: 40px;\r\nheight: 40px;\r\nborder-radius: 50%;\r\noverflow: hidden;\r\n`\r\nconst Name = styled.p`\r\nfont-weight: 600;\r\n`\r\n\r\nexport {Message, Img, TextArea, Name, MyMessage}","import React from 'react'\r\nimport {Message, Img, TextArea, Name, MyMessage} from './Styles'\r\n\r\nconst ChatRoom = (props) => {\r\n    let uid = props.uid\r\n    {if (uid === props.uid) console.log('repeat') \r\n    else console.log('norepeat')}\r\n    return(\r\n        <div>\r\n            {props.Myuid === props.msg.uid ? \r\n                <MyMessage key = {props.msg.key}>\r\n                    <Img src = {props.msg.photo} />\r\n                        <TextArea>\r\n                        <Name>{props.msg.name}</Name>\r\n                        <p>{props.msg.message}</p>\r\n                    </TextArea>\r\n                </MyMessage> \r\n            : \r\n                <Message key = {props.msg.key}>\r\n                    <Img src = {props.msg.photo} />\r\n                    <TextArea>\r\n                        <Name>{props.msg.name}</Name>\r\n                        <p>{props.msg.message}</p>\r\n                    </TextArea>\r\n                </Message>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatRoom","import React from 'react'\r\nimport ChatRoom from './ChatRoom'\r\nimport firebase from 'firebase'\r\nimport 'firebase/firestore'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\r\n\r\n\r\n\r\nconst ChatRoomContainer = (props) => {\r\n    const messagesRef = props.db.collection('messages')\r\n    const query = messagesRef.orderBy('createdAt').limit(25)\r\n    const [chatmsgs] = useCollectionData(query, { idField: 'id' })\r\n    return (\r\n    <main>\r\n        {chatmsgs && chatmsgs.map(msg => <ChatRoom Myuid = {props.auth.currentUser.uid} msg = { msg } />)}\r\n\r\n        <span ref={props.dummy}></span>\r\n    </main>\r\n    )\r\n}\r\n\r\nexport default ChatRoomContainer","import styles from 'styled-components'\r\n\r\nconst Container = styles.div`\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    padding: 10px;\r\n`\r\n\r\nexport { Container }","import React from 'react'\r\nimport {ChatRoomContainer} from './Components'\r\nimport {Container} from './Styles'\r\n\r\nconst Page = (props) => {\r\n    return(\r\n        <Container>\r\n            <div>\r\n                {props.user ? <ChatRoomContainer dummy = {props.dummy} db={props.db} auth = {props.auth}/> : <div><>\r\n            <button className=\"sign-in\" onClick={props.signInWithGoogle}>Sign in with Google</button>\r\n            <p>Do not violate the community guidelines or you will be banned for life!</p>\r\n            </></div>}\r\n            </div>\r\n            <form>\r\n                <input value = {props.value} onChange = {(e) => props.setValue(e.target.value)}></input>\r\n                <button onClick = {props.AddMessage}>Send</button>\r\n            </form>\r\n            <button onClick = {props.signOut}>SIGN OUT</button>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Page","import logo from './logo.svg';\r\nimport './App.css';\r\nimport React, {useState, useRef} from 'react';\r\nimport firebase from 'firebase'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\nimport { useAuthState  } from 'react-firebase-hooks/auth'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport Page from './Components/Page'\r\n\r\n\r\nfirebase.initializeApp({\r\n  apiKey: \"AIzaSyDnZUQGdmZDalwlTLy1E3q1b9DxUz-qInI\",\r\n  authDomain: \"messages-98171.firebaseapp.com\",\r\n  projectId: \"messages-98171\",\r\n  storageBucket: \"messages-98171.appspot.com\",\r\n  messagingSenderId: \"782027107501\",\r\n  appId: \"1:782027107501:web:de40feaf7c4ab0688c6a24\"\r\n});\r\n\r\nconst db = firebase.firestore();\r\nconst auth = firebase.auth();\r\n\r\nconst signInWithGoogle = () => {\r\n  const provider = new firebase.auth.GoogleAuthProvider();\r\n  auth.signInWithPopup(provider);\r\n}\r\nconst signOut = (e) => {\r\n  e.preventDefault();\r\n  auth.signOut()\r\n}\r\n\r\n\r\nconst App = () => {\r\n  const [formValue, setFormValue] = useState('');\r\n  const [user] = useAuthState(auth)\r\n  const dummy = useRef()\r\n  const AddMessage = async (e) => {\r\n    e.preventDefault();\r\n    const { uid, photoURL, displayName } = auth.currentUser;\r\n    await db.collection('messages').add({\r\n      message: formValue,\r\n      name: displayName,\r\n      uid: uid,\r\n      photo: photoURL,\r\n      createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n  \r\n  })\r\n  setFormValue('');\r\n  dummy.current.scrollIntoView({ behavior: 'smooth' });\r\n  }\r\n  return <Page dummy = {dummy} value = {formValue} setValue = {setFormValue} signOut = {signOut} user = {user} db = {db} auth = {auth} signInWithGoogle = {signInWithGoogle} AddMessage = {AddMessage}/>\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}