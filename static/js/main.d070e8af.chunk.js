(this.webpackJsonpmessages=this.webpackJsonpmessages||[]).push([[0],{36:function(e,n,t){},38:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var i=t(4),r=t(3),a=t.n(r),s=t(25),c=t.n(s),u=(t(36),t(19)),d=t.n(u),o=t(26),l=t(13),m=(t.p,t(38),t(12)),g=(t(24),t(41),t(27)),j=t(18),b=t(10),p=t(11);function f(){var e=Object(b.a)(["\nfont-weight: 600;\n"]);return f=function(){return e},e}function h(){var e=Object(b.a)(["\nwidth: 40px;\nheight: 40px;\nborder-radius: 50%;\noverflow: hidden;\n"]);return h=function(){return e},e}function x(){var e=Object(b.a)(["\ndisplay: flex;\nbackground: darkgray;\npadding: 10px 15px;\nborder-radius: 20px;\nflex-direction: column;\nmargin: 0 10px;\n"]);return x=function(){return e},e}function O(){var e=Object(b.a)(["\n.message {        \n    display: flex;\n    margin: 20px 0;\n    .def {\n        margin: -15px 50px 0;\n    }\n}\n.message-my {\n    flex-direction: row-reverse;\n    p{\n        text-align: right;\n    }\n    .def {\n        margin: -15px 10px 0;\n    }\n}\n"]);return O=function(){return e},e}var v=p.a.div(O()),y=p.a.div(x()),w=p.a.img(h()),I=p.a.p(f()),k=function(e){return Object(i.jsx)(v,{children:Object(i.jsxs)("div",{className:e.uid===e.Myuid?"message message-my":"message",children:[e.last.uid===e.msg.uid||e.msg.uid===e.Myuid?null:Object(i.jsx)(w,{src:e.msg.photo}),Object(i.jsxs)(y,{className:e.last.uid===e.msg.uid?"def":null,children:[e.Myuid===e.msg.uid||e.last.uid===e.msg.uid?null:Object(i.jsx)(I,{children:e.msg.name}),Object(i.jsx)("p",{children:e.msg.message})]})]},e.msg.key)})},A=function(e){var n=e.db.collection("messages").orderBy("createdAt"),t=Object(j.a)(n,{idField:"id"}),r=Object(l.a)(t,1)[0];return Object(i.jsxs)("main",{children:[r&&r.map((function(n,t){return Object(i.jsx)(k,{last:r[t-1]||n,Myuid:e.auth.currentUser.uid,msg:n,uid:n.uid})})),Object(i.jsx)("span",{ref:e.dummy})]})};function D(){var e=Object(b.a)(["\n    width: 100%;\n    margin: 0 auto;\n    padding: 10px;\n"]);return D=function(){return e},e}var M=p.a.div(D()),S=function(e){return Object(i.jsxs)(M,{children:[Object(i.jsx)("div",{children:e.user?Object(i.jsx)(A,{dummy:e.dummy,db:e.db,auth:e.auth}):Object(i.jsx)("div",{children:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("button",{className:"sign-in",onClick:e.signInWithGoogle,children:"Sign in with Google"}),Object(i.jsx)("p",{children:"Do not violate the community guidelines or you will be banned for life!"})]})})}),Object(i.jsxs)("form",{children:[Object(i.jsx)("input",{value:e.value,onChange:function(n){return e.setValue(n.target.value)}}),Object(i.jsx)("button",{onClick:e.AddMessage,children:"Send"})]}),Object(i.jsx)("button",{onClick:e.signOut,children:"SIGN OUT"})]})};m.a.initializeApp({apiKey:"AIzaSyDnZUQGdmZDalwlTLy1E3q1b9DxUz-qInI",authDomain:"messages-98171.firebaseapp.com",projectId:"messages-98171",storageBucket:"messages-98171.appspot.com",messagingSenderId:"782027107501",appId:"1:782027107501:web:de40feaf7c4ab0688c6a24"});var G=m.a.firestore(),U=m.a.auth(),N=function(){var e=new m.a.auth.GoogleAuthProvider;U.signInWithPopup(e)},C=function(e){e.preventDefault(),U.signOut()},V=function(){var e=Object(r.useState)(""),n=Object(l.a)(e,2),t=n[0],a=n[1],s=Object(g.a)(U),c=Object(l.a)(s,1)[0],u=Object(r.useRef)(),j=function(){var e=Object(o.a)(d.a.mark((function e(n){var i,r,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),i=U.currentUser,r=i.uid,s=i.photoURL,c=i.displayName,e.next=4,G.collection("messages").add({message:t,name:c,uid:r,photo:s,createdAt:m.a.firestore.FieldValue.serverTimestamp()});case 4:a(""),u.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(i.jsx)(S,{dummy:u,value:t,setValue:a,signOut:C,user:c,db:G,auth:U,signInWithGoogle:N,AddMessage:j})};c.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(V,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.d070e8af.chunk.js.map