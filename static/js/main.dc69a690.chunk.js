(this.webpackJsonpmessages=this.webpackJsonpmessages||[]).push([[0],{36:function(e,n,t){},38:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var i=t(4),s=t(3),a=t.n(s),r=t(25),c=t.n(r),u=(t(36),t(19)),d=t.n(u),o=t(26),l=t(13),m=(t.p,t(38),t(12)),g=(t(24),t(41),t(27)),p=t(18),j=t(10),b=t(11);function h(){var e=Object(j.a)(["\nfont-weight: 600;\n"]);return h=function(){return e},e}function x(){var e=Object(j.a)(["\nwidth: 40px;\nheight: 40px;\nmin-width: 40px;\nmin-height: 40px;\nborder-radius: 50%;\noverflow: hidden;\n"]);return x=function(){return e},e}function f(){var e=Object(j.a)(["\ndisplay: inline-block;\nbackground: #DCDCDC;\npadding: 10px 15px;\nborder-radius: 20px;\nmargin: 0 10px;\n"]);return f=function(){return e},e}function O(){var e=Object(j.a)(["\nfont-size: 16px;\nfont-weight: 400;\n.message {        \n    display: flex;\n    margin: 20px 0;\n    .def {\n        margin: -15px 50px 0;\n    }\n}\n.message-my {\n    flex-direction: row-reverse;\n    margin: 20px -10px 20px 10px;\n    p{\n        text-align: right;\n    }\n    .def {\n        margin: -15px 10px 0 10px;\n    }\n}\n"]);return O=function(){return e},e}var v=b.a.div(O()),y=b.a.div(f()),w=b.a.img(x()),I=b.a.p(h()),k=function(e){return Object(i.jsx)(v,{children:Object(i.jsxs)("div",{className:e.uid===e.Myuid?"message message-my":"message",children:[e.last.uid===e.msg.uid||e.msg.uid===e.Myuid?null:Object(i.jsx)(w,{src:e.msg.photo}),Object(i.jsxs)(y,{className:e.last.uid===e.msg.uid?"def":null,children:[e.Myuid===e.msg.uid||e.last.uid===e.msg.uid?null:Object(i.jsx)(I,{children:e.msg.name}),Object(i.jsx)("p",{children:e.msg.message})]})]},e.msg.key)})},D=function(e){var n=e.db.collection("messages").orderBy("createdAt"),t=Object(p.a)(n,{idField:"id"}),a=Object(l.a)(t,1)[0];return Object(s.useEffect)((function(){e.dummy.current.scrollIntoView({behavior:"smooth"})})),Object(i.jsxs)("main",{children:[a&&a.map((function(n,t){return Object(i.jsx)(k,{last:a[t-1]||n,Myuid:e.auth.currentUser.uid,msg:n,uid:n.uid})})),Object(i.jsx)("span",{ref:e.dummy})]})};function N(){var e=Object(j.a)(["\n    width: 100%;\n    margin: 0 auto;\n    padding: 10px 0;\n"]);return N=function(){return e},e}var A=b.a.div(N()),C=function(e){return Object(i.jsxs)(A,{children:[Object(i.jsx)("div",{className:"bar",children:Object(i.jsx)("div",{children:e.user?Object(i.jsx)("button",{className:"sign-out",onClick:e.signOut,children:"Sign Out \ud83d\udeaa"}):Object(i.jsx)("button",{className:"sign-in",onClick:e.signInWithGoogle,children:"Sign in with Google \ud83d\udd11"})})}),Object(i.jsx)("div",{className:"main",children:e.user?Object(i.jsx)(D,{dummy:e.dummy,db:e.db,auth:e.auth}):Object(i.jsx)("p",{id:"needtologin",children:"Log In to see what's going on here, dude :)"})}),Object(i.jsxs)("form",{className:"msginput",children:[Object(i.jsx)("input",{value:e.value,onChange:function(n){return e.setValue(n.target.value)}}),Object(i.jsx)("button",{onClick:e.AddMessage,children:"\ud83e\udd19"})]})]})};m.a.initializeApp({apiKey:"AIzaSyDnZUQGdmZDalwlTLy1E3q1b9DxUz-qInI",authDomain:"messages-98171.firebaseapp.com",projectId:"messages-98171",storageBucket:"messages-98171.appspot.com",messagingSenderId:"782027107501",appId:"1:782027107501:web:de40feaf7c4ab0688c6a24"});var M=m.a.firestore(),S=m.a.auth(),G=function(){var e=new m.a.auth.GoogleAuthProvider;S.signInWithPopup(e)},U=function(e){e.preventDefault(),S.signOut()},V=function(){var e=Object(s.useState)(""),n=Object(l.a)(e,2),t=n[0],a=n[1],r=Object(g.a)(S),c=Object(l.a)(r,1)[0],u=Object(s.useRef)(),p=function(){var e=Object(o.a)(d.a.mark((function e(n){var i,s,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),i=S.currentUser,s=i.uid,r=i.photoURL,c=i.displayName,e.next=4,M.collection("messages").add({message:t,name:c,uid:s,photo:r,createdAt:m.a.firestore.FieldValue.serverTimestamp()});case 4:a(""),u.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(i.jsx)(C,{dummy:u,value:t,setValue:a,signOut:U,user:c,db:M,auth:S,signInWithGoogle:G,AddMessage:p})};c.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(V,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.dc69a690.chunk.js.map