(this.webpackJsonpmessages=this.webpackJsonpmessages||[]).push([[0],{36:function(e,n,t){},38:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var r=t(4),i=t(3),s=t.n(i),c=t(25),a=t.n(c),u=(t(36),t(19)),o=t.n(u),d=t(26),j=t(13),l=(t.p,t(38),t(12)),b=(t(24),t(41),t(27)),m=t(18),g=t(10),h=t(11);function p(){var e=Object(g.a)(["\nfont-weight: 600;\n"]);return p=function(){return e},e}function O(){var e=Object(g.a)(["\nwidth: 40px;\nheight: 40px;\nborder-radius: 50%;\noverflow: hidden;\n"]);return O=function(){return e},e}function f(){var e=Object(g.a)(["\nflex-direction: row-reverse;\np{\n    text-align: right;\n}\n"]);return f=function(){return e},e}function x(){var e=Object(g.a)(["\ndisplay: flex;\nflex-direction: column;\nmargin: 0 10px;\n"]);return x=function(){return e},e}function v(){var e=Object(g.a)(["\ndisplay: flex;\nmargin: 15px 0;\n"]);return v=function(){return e},e}var y=h.a.div(v()),w=h.a.div(x()),I=Object(h.a)(y)(f()),k=h.a.img(O()),A=h.a.p(p()),D=function(e){return e.uid===e.uid?console.log("repeat"):console.log("norepeat"),Object(r.jsx)("div",{children:e.Myuid===e.msg.uid?Object(r.jsxs)(I,{children:[Object(r.jsx)(k,{src:e.msg.photo}),Object(r.jsxs)(w,{children:[Object(r.jsx)(A,{children:e.msg.name}),Object(r.jsx)("p",{children:e.msg.message})]})]},e.msg.key):Object(r.jsxs)(y,{children:[Object(r.jsx)(k,{src:e.msg.photo}),Object(r.jsxs)(w,{children:[Object(r.jsx)(A,{children:e.msg.name}),Object(r.jsx)("p",{children:e.msg.message})]})]},e.msg.key)})},S=function(e){var n=e.db.collection("messages").orderBy("createdAt").limit(25),t=Object(m.a)(n,{idField:"id"}),i=Object(j.a)(t,1)[0];return Object(r.jsxs)("main",{children:[i&&i.map((function(n){return Object(r.jsx)(D,{Myuid:e.auth.currentUser.uid,msg:n})})),Object(r.jsx)("span",{ref:e.dummy})]})};function G(){var e=Object(g.a)(["\n    width: 100%;\n    margin: 0 auto;\n    padding: 10px;\n"]);return G=function(){return e},e}var U=h.a.div(G()),M=function(e){return Object(r.jsxs)(U,{children:[Object(r.jsx)("div",{children:e.user?Object(r.jsx)(S,{dummy:e.dummy,db:e.db,auth:e.auth}):Object(r.jsx)("div",{children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{className:"sign-in",onClick:e.signInWithGoogle,children:"Sign in with Google"}),Object(r.jsx)("p",{children:"Do not violate the community guidelines or you will be banned for life!"})]})})}),Object(r.jsxs)("form",{children:[Object(r.jsx)("input",{value:e.value,onChange:function(n){return e.setValue(n.target.value)}}),Object(r.jsx)("button",{onClick:e.AddMessage,children:"Send"})]}),Object(r.jsx)("button",{onClick:e.signOut,children:"SIGN OUT"})]})};l.a.initializeApp({apiKey:"AIzaSyDnZUQGdmZDalwlTLy1E3q1b9DxUz-qInI",authDomain:"messages-98171.firebaseapp.com",projectId:"messages-98171",storageBucket:"messages-98171.appspot.com",messagingSenderId:"782027107501",appId:"1:782027107501:web:de40feaf7c4ab0688c6a24"});var C=l.a.firestore(),V=l.a.auth(),z=function(){var e=new l.a.auth.GoogleAuthProvider;V.signInWithPopup(e)},B=function(e){e.preventDefault(),V.signOut()},F=function(){var e=Object(i.useState)(""),n=Object(j.a)(e,2),t=n[0],s=n[1],c=Object(b.a)(V),a=Object(j.a)(c,1)[0],u=Object(i.useRef)(),m=function(){var e=Object(d.a)(o.a.mark((function e(n){var r,i,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=V.currentUser,i=r.uid,c=r.photoURL,a=r.displayName,e.next=4,C.collection("messages").add({message:t,name:a,uid:i,photo:c,createdAt:l.a.firestore.FieldValue.serverTimestamp()});case 4:s(""),u.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(r.jsx)(M,{dummy:u,value:t,setValue:s,signOut:B,user:a,db:C,auth:V,signInWithGoogle:z,AddMessage:m})};a.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(F,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.9ef6c0c5.chunk.js.map