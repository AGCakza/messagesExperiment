{"version":3,"sources":["logo.svg","Components/ChatRoom/Styles.js","Components/ChatRoom/ChatRoom.js","Components/ChatRoom/ChatRoomContainer.js","Components/Styles.js","Components/Page.js","App.js","index.js"],"names":["Messages","styled","div","TextArea","Img","img","Name","p","ChatRoom","props","className","uid","Myuid","last","msg","src","photo","name","message","key","ChatRoomContainer","query","db","collection","orderBy","useCollectionData","idField","chatmsgs","map","index","auth","currentUser","ref","dummy","Container","styles","Page","user","onClick","signInWithGoogle","value","onChange","e","setValue","target","AddMessage","signOut","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","provider","GoogleAuthProvider","signInWithPopup","preventDefault","App","useState","formValue","setFormValue","useAuthState","useRef","a","photoURL","displayName","add","createdAt","FieldValue","serverTimestamp","current","scrollIntoView","behavior","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d070e8af.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import styled from 'styled-components'\r\n\r\n\r\n\r\nconst Messages = styled.div`\r\n.message {        \r\n    display: flex;\r\n    margin: 20px 0;\r\n    .def {\r\n        margin: -15px 50px 0;\r\n    }\r\n}\r\n.message-my {\r\n    flex-direction: row-reverse;\r\n    p{\r\n        text-align: right;\r\n    }\r\n    .def {\r\n        margin: -15px 10px 0;\r\n    }\r\n}\r\n`\r\nconst TextArea = styled.div`\r\ndisplay: flex;\r\nbackground: darkgray;\r\npadding: 10px 15px;\r\nborder-radius: 20px;\r\nflex-direction: column;\r\nmargin: 0 10px;\r\n`\r\nconst Img = styled.img`\r\nwidth: 40px;\r\nheight: 40px;\r\nborder-radius: 50%;\r\noverflow: hidden;\r\n`\r\nconst Name = styled.p`\r\nfont-weight: 600;\r\n`\r\n\r\nexport {Messages, Img, TextArea, Name}","import React from 'react'\r\nimport {Messages, Img, TextArea, Name} from './Styles'\r\n\r\nconst ChatRoom = (props) => {\r\n    return(\r\n        <Messages>\r\n            \r\n            <div key = {props.msg.key} className = {props.uid === props.Myuid ? 'message message-my' : 'message'}>\r\n            { props.last.uid === props.msg.uid ? null : props.msg.uid === props.Myuid ? null : <Img src = {props.msg.photo} />}                    \r\n                    <TextArea className = { props.last.uid === props.msg.uid ? 'def' : null}>\r\n                        {props.Myuid === props.msg.uid ? null : props.last.uid === props.msg.uid ? null : <Name>{props.msg.name}</Name>}\r\n                        <p>{props.msg.message}</p>\r\n                    </TextArea>\r\n            </div> \r\n        </Messages>\r\n    )\r\n}\r\n\r\nexport default ChatRoom","import React from 'react'\r\nimport ChatRoom from './ChatRoom'\r\nimport firebase from 'firebase'\r\nimport 'firebase/firestore'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\r\n\r\n\r\n\r\nconst ChatRoomContainer = (props) => {\r\n    const messagesRef = props.db.collection('messages')\r\n    const query = messagesRef.orderBy('createdAt')\r\n    const [chatmsgs] = useCollectionData(query, { idField: 'id' })\r\n    return (\r\n    <main>\r\n        {chatmsgs && chatmsgs.map((msg, index) => <ChatRoom last = {chatmsgs[index-1] || msg} Myuid = {props.auth.currentUser.uid} msg = { msg } uid = {msg.uid} />)}\r\n        \r\n        <span ref={props.dummy}></span>\r\n    </main>\r\n    )\r\n}\r\nexport default ChatRoomContainer","import styles from 'styled-components'\r\n\r\nconst Container = styles.div`\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    padding: 10px;\r\n`\r\n\r\nexport { Container }","import React from 'react'\r\nimport {ChatRoomContainer} from './Components'\r\nimport {Container} from './Styles'\r\n\r\nconst Page = (props) => {\r\n    return(\r\n        <Container>\r\n            <div>\r\n                {props.user ? <ChatRoomContainer dummy = {props.dummy} db={props.db} auth = {props.auth}/> : <div><>\r\n            <button className=\"sign-in\" onClick={props.signInWithGoogle}>Sign in with Google</button>\r\n            <p>Do not violate the community guidelines or you will be banned for life!</p>\r\n            </></div>}\r\n            </div>\r\n            <form>\r\n                <input value = {props.value} onChange = {(e) => props.setValue(e.target.value)}></input>\r\n                <button onClick = {props.AddMessage}>Send</button>\r\n            </form>\r\n            <button onClick = {props.signOut}>SIGN OUT</button>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Page","import logo from './logo.svg';\r\nimport './App.css';\r\nimport React, {useState, useRef} from 'react';\r\nimport firebase from 'firebase'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\nimport { useAuthState  } from 'react-firebase-hooks/auth'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport Page from './Components/Page'\r\n\r\n\r\nfirebase.initializeApp({\r\n  apiKey: \"AIzaSyDnZUQGdmZDalwlTLy1E3q1b9DxUz-qInI\",\r\n  authDomain: \"messages-98171.firebaseapp.com\",\r\n  projectId: \"messages-98171\",\r\n  storageBucket: \"messages-98171.appspot.com\",\r\n  messagingSenderId: \"782027107501\",\r\n  appId: \"1:782027107501:web:de40feaf7c4ab0688c6a24\"\r\n});\r\n\r\nconst db = firebase.firestore();\r\nconst auth = firebase.auth();\r\n\r\nconst signInWithGoogle = () => {\r\n  const provider = new firebase.auth.GoogleAuthProvider();\r\n  auth.signInWithPopup(provider);\r\n}\r\nconst signOut = (e) => {\r\n  e.preventDefault();\r\n  auth.signOut()\r\n}\r\n\r\n\r\nconst App = () => {\r\n  const [formValue, setFormValue] = useState('');\r\n  const [user] = useAuthState(auth)\r\n  const dummy = useRef()\r\n  const AddMessage = async (e) => {\r\n    e.preventDefault();\r\n    const { uid, photoURL, displayName } = auth.currentUser;\r\n    await db.collection('messages').add({\r\n      message: formValue,\r\n      name: displayName,\r\n      uid: uid,\r\n      photo: photoURL,\r\n      createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n  \r\n  })\r\n  setFormValue('');\r\n  dummy.current.scrollIntoView({ behavior: 'smooth' });\r\n  }\r\n  return <Page dummy = {dummy} value = {formValue} setValue = {setFormValue} signOut = {signOut} user = {user} db = {db} auth = {auth} signInWithGoogle = {signInWithGoogle} AddMessage = {AddMessage}/>\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}